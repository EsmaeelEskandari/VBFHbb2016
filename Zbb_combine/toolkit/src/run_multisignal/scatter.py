from ROOT import *

gStyle.SetOptStat(11111)

file  = TFile.Open("newhiggsCombineallFit_0_3_exp1.MultiDimFit.mH120.123456.root")
tree = file.Get("limit")
c0 = TCanvas("c0","",600,600)
h0 = TH2F("h0","r_CAT1:r_CAT3",50,0.4,1.6,50,0,2)
h0.GetYaxis().SetTitle("r_CAT1")
h0.GetXaxis().SetTitle("r_CAT3")
tree.Draw("r_CAT1:r_CAT3>>h0","","COLZTEXT")
cor0=h0.GetCorrelationFactor()
print cor0 
p0 = TPaveText(0.15,0.8,0.35,0.9,"NDC")
p0.SetFillStyle(-1)
p0.SetBorderSize(0)
p0.SetTextFont(42)
p0.AddText("Correlation %0.2f"%cor0)
p0.Draw()
c0.SaveAs("cat1_cat3.png")
c1 = TCanvas("c1","",600,600)
h1 = TH2F("h1","r_CAT2:r_CAT3",50,0.5,1.6,50,0,2)
h1.GetYaxis().SetTitle("r_CAT2")
h1.GetXaxis().SetTitle("r_CAT3")
tree.Draw("r_CAT2:r_CAT3>>h1","","COLZTEXT")
cor1=h1.GetCorrelationFactor()
p1 = TPaveText(0.15,0.8,0.35,0.9,"NDC")
p1.SetFillStyle(-1)
p1.SetBorderSize(0)
p1.SetTextFont(42)
p1.AddText("Correlation %0.2f"%cor1)
p1.Draw()
print cor1
c1.SaveAs("cat2_cat3.png")
c2 = TCanvas("c2","",600,600)
h2 = TH2F("h2","r_CAT2:r_CAT1",50,-0.3,2.3,50,0,2)
h2.GetYaxis().SetTitle("r_CAT2")
h2.GetXaxis().SetTitle("r_CAT1")
tree.Draw("r_CAT2:r_CAT1>>h2","","COLZTEXT")
cor2=h2.GetCorrelationFactor()
print cor2
p2 = TPaveText(0.15,0.8,0.35,0.9,"NDC")
p2.SetFillStyle(-1)
p2.SetBorderSize(0)
p2.SetTextFont(42)
p2.AddText("Correlation %0.2f"%cor2)
p2.Draw()
c2.SaveAs("cat2_cat1.png")
